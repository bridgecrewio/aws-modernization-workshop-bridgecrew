<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.78.2"><meta name=description content="learn how to automate your infrastructure security from code to commit with Bridgecrew and the AWS developer tools suite."><meta name=author content="Matt Johnson @ Bridgecrew"><link rel=icon href=/aws-modernization-workshop-bridgecrew/images/favicon.png type=image/png><title>CloudFormation Overview :: Cloud DevSecOps with Bridgecrew</title><link href=/aws-modernization-workshop-bridgecrew/css/nucleus.css?1605552913 rel=stylesheet><link href=/aws-modernization-workshop-bridgecrew/css/fontawesome-all.min.css?1605552913 rel=stylesheet><link href=/aws-modernization-workshop-bridgecrew/css/hybrid.css?1605552913 rel=stylesheet><link href=/aws-modernization-workshop-bridgecrew/css/featherlight.min.css?1605552913 rel=stylesheet><link href=/aws-modernization-workshop-bridgecrew/css/perfect-scrollbar.min.css?1605552913 rel=stylesheet><link href=/aws-modernization-workshop-bridgecrew/css/auto-complete.css?1605552913 rel=stylesheet><link href=/aws-modernization-workshop-bridgecrew/css/atom-one-dark-reasonable.css?1605552913 rel=stylesheet><link href=/aws-modernization-workshop-bridgecrew/css/theme.css?1605552913 rel=stylesheet><link href=/aws-modernization-workshop-bridgecrew/css/hugo-theme.css?1605552913 rel=stylesheet><link href=/aws-modernization-workshop-bridgecrew/css/theme-mine.css?1605552913 rel=stylesheet><script src=/aws-modernization-workshop-bridgecrew/js/jquery-3.3.1.min.js?1605552913></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/aws-modernization-workshop-bridgecrew/5b_what_cloudformation.html><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a href=/ title="Go home"><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 30" width="60%" style="padding:20px 0"><defs><style>.cls-1{fill:#fff}.cls-2{fill:#f90;fill-rule:evenodd}</style></defs><title>AWS-Logo_White-Color</title><path class="cls-1" d="M14.09 10.85a4.7 4.7.0 00.19 1.48 7.73 7.73.0 00.54 1.19.77.77.0 01.12.38.64.64.0 01-.32.49l-1 .7a.83.83.0 01-.44.15.69.69.0 01-.49-.23 3.8 3.8.0 01-.6-.77q-.25-.42-.51-1a6.14 6.14.0 01-4.89 2.3 4.54 4.54.0 01-3.32-1.19 4.27 4.27.0 01-1.22-3.2A4.28 4.28.0 013.61 7.75 6.06 6.06.0 017.69 6.46a12.47 12.47.0 011.76.13q.92.13 1.91.36V5.73a3.65 3.65.0 00-.79-2.66A3.81 3.81.0 007.86 2.3a7.71 7.71.0 00-1.79.22 12.78 12.78.0 00-1.79.57 4.55 4.55.0 01-.58.22h-.26l-.35-.52V2a1.09 1.09.0 01.12-.58 1.2 1.2.0 01.47-.35A10.88 10.88.0 015.77.32 10.19 10.19.0 018.36.0a6 6 0 014.35 1.35 5.49 5.49.0 011.38 4.09zM7.34 13.38a5.36 5.36.0 001.72-.31A3.63 3.63.0 0010.63 12 2.62 2.62.0 0011.19 11a5.63 5.63.0 00.16-1.44v-.7a14.35 14.35.0 00-1.53-.28 12.37 12.37.0 00-1.56-.1 3.84 3.84.0 00-2.47.67A2.34 2.34.0 005 11a2.35 2.35.0 00.61 1.76A2.4 2.4.0 007.34 13.38zm13.35 1.8a1 1 0 01-.64-.16 1.3 1.3.0 01-.35-.65L15.81 1.51a3 3 0 01-.15-.67.36.36.0 01.41-.41H17.7a1 1 0 01.65.16 1.4 1.4.0 01.33.65l2.79 11 2.59-11A1.17 1.17.0 0124.39.6a1.1 1.1.0 01.67-.16H26.4a1.1 1.1.0 01.67.16 1.17 1.17.0 01.32.65L30 12.39 32.88 1.25A1.39 1.39.0 0133.22.6a1 1 0 01.65-.16h1.54a.36.36.0 01.41.41 1.36 1.36.0 010 .26 3.64 3.64.0 01-.12.41l-4 12.86a1.3 1.3.0 01-.35.65 1 1 0 01-.64.16H29.25a1 1 0 01-.67-.17 1.26 1.26.0 01-.32-.67L25.67 3.64 23.11 14.34a1.26 1.26.0 01-.32.67 1 1 0 01-.67.17zm21.36.44a11.28 11.28.0 01-2.56-.29 7.44 7.44.0 01-1.92-.67 1 1 0 01-.61-.93v-.84l.38-.52a.9.9.0 01.31.06l.42.17a8.77 8.77.0 001.83.58 9.78 9.78.0 002 .2 4.48 4.48.0 002.43-.55 1.76 1.76.0 00.86-1.57 1.61 1.61.0 00-.45-1.16A4.29 4.29.0 0043 9.22l-2.41-.76A5.15 5.15.0 0138 6.78a3.94 3.94.0 01-.83-2.41 3.7 3.7.0 01.45-1.85 4.47 4.47.0 011.19-1.37A5.27 5.27.0 0140.51.29 7.4 7.4.0 0142.6.0a8.87 8.87.0 011.12.07q.57.07 1.08.19t.95.26a4.27 4.27.0 01.7.29 1.59 1.59.0 01.49.41.94.94.0 01.15.55v.79l-.38.52a1.76 1.76.0 01-.64-.2 7.74 7.74.0 00-3.2-.64 4.37 4.37.0 00-2.21.47 1.6 1.6.0 00-.79 1.48 1.58 1.58.0 00.49 1.18 4.94 4.94.0 001.83.92L44.55 7a5.08 5.08.0 012.57 1.6A3.76 3.76.0 0147.9 11a4.21 4.21.0 01-.44 1.93 4.4 4.4.0 01-1.21 1.47 5.43 5.43.0 01-1.85.93A8.25 8.25.0 0142.05 15.62z"/><path class="cls-2" d="M45.19 23.81C39.72 27.85 31.78 30 25 30A36.64 36.64.0 01.22 20.57c-.51-.46-.06-1.09.56-.74A49.78 49.78.0 0025.53 26.4 49.23 49.23.0 0044.4 22.53C45.32 22.14 46.1 23.14 45.19 23.81z"/><path class="cls-2" d="M47.47 21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74 3.13-2.2 8.27-1.57 8.86-.83s-.16 5.89-3.09 8.35c-.45.38-.88.18-.68-.32C46.69 25.8 48.17 22.11 47.47 21.21z"/></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label><input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/aws-modernization-workshop-bridgecrew/js/lunr.min.js?1605552913></script><script type=text/javascript src=/aws-modernization-workshop-bridgecrew/js/auto-complete.js?1605552913></script><script type=text/javascript>var baseurl="\/aws-modernization-workshop-bridgecrew\/";</script><script type=text/javascript src=/aws-modernization-workshop-bridgecrew/js/search.js?1605552913></script></div><div class=highlightable><ul class=topics><li data-nav-id=/aws-modernization-workshop-bridgecrew/5_getting_started.html title=DevSecWhat? class=dd-item><a href=/aws-modernization-workshop-bridgecrew/5_getting_started.html><b>1 </b>DevSecWhat?
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/aws-modernization-workshop-bridgecrew/5b_what_cloudformation.html title="CloudFormation Overview" class="dd-item
parent
active"><a href=/aws-modernization-workshop-bridgecrew/5b_what_cloudformation.html><b>2 </b>CloudFormation Overview
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/aws-modernization-workshop-bridgecrew/6_prerequisites.html title=Prerequisites class=dd-item><a href=/aws-modernization-workshop-bridgecrew/6_prerequisites.html><b>3 </b>Prerequisites
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/aws-modernization-workshop-bridgecrew/6_prerequisites/601_setting_up_bridgecrew_account.html title="Bridgecrew setup" class=dd-item><a href=/aws-modernization-workshop-bridgecrew/6_prerequisites/601_setting_up_bridgecrew_account.html><b>3.1 </b>Bridgecrew setup
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/aws-modernization-workshop-bridgecrew/10_module_one.html title="Module - Scan" class=dd-item><a href=/aws-modernization-workshop-bridgecrew/10_module_one.html><b>4 </b>Module - Scan
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/aws-modernization-workshop-bridgecrew/10_module_one/1002_local_scan_cli.html title="Bridgecrew CLI" class=dd-item><a href=/aws-modernization-workshop-bridgecrew/10_module_one/1002_local_scan_cli.html><b>4.2 </b>Bridgecrew CLI
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/aws-modernization-workshop-bridgecrew/10_module_one/1003_local_scan_dashboard.html title="Bridgecrew Dashboard" class=dd-item><a href=/aws-modernization-workshop-bridgecrew/10_module_one/1003_local_scan_dashboard.html><b>4.3 </b>Bridgecrew Dashboard
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/aws-modernization-workshop-bridgecrew/20_module_two.html title="Module - Automate" class=dd-item><a href=/aws-modernization-workshop-bridgecrew/20_module_two.html><b>5 </b>Module - Automate
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/aws-modernization-workshop-bridgecrew/20_module_two/2001_automating_iac_github.html title="CloudFormation repository setup" class=dd-item><a href=/aws-modernization-workshop-bridgecrew/20_module_two/2001_automating_iac_github.html><b>5.1 </b>CloudFormation repository setup
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/aws-modernization-workshop-bridgecrew/20_module_two/2002_automating_iac_codebuild.html title="AWS CodeBuild setup" class=dd-item><a href=/aws-modernization-workshop-bridgecrew/20_module_two/2002_automating_iac_codebuild.html><b>5.2 </b>AWS CodeBuild setup
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/aws-modernization-workshop-bridgecrew/20_module_two/2003_automating_iac_codebuild_iam.html title="Edit IAM for CodeBuild" class=dd-item><a href=/aws-modernization-workshop-bridgecrew/20_module_two/2003_automating_iac_codebuild_iam.html><b>5.3 </b>Edit IAM for CodeBuild
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/aws-modernization-workshop-bridgecrew/20_module_two/2004_automating_iac_codepipeline.html title="AWS CodePipeline Setup" class=dd-item><a href=/aws-modernization-workshop-bridgecrew/20_module_two/2004_automating_iac_codepipeline.html><b>5.4 </b>AWS CodePipeline Setup
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/aws-modernization-workshop-bridgecrew/20_module_two/2005_automating_iac_results.html title="Pipeline Results" class=dd-item><a href=/aws-modernization-workshop-bridgecrew/20_module_two/2005_automating_iac_results.html><b>5.5 </b>Pipeline Results
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/aws-modernization-workshop-bridgecrew/30_module_three.html title="Module - Fix" class=dd-item><a href=/aws-modernization-workshop-bridgecrew/30_module_three.html><b>6 </b>Module - Fix
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/aws-modernization-workshop-bridgecrew/30_module_three/3001_bridgecrew_dashboard_results.html title="Bridgecrew platform results" class=dd-item><a href=/aws-modernization-workshop-bridgecrew/30_module_three/3001_bridgecrew_dashboard_results.html><b>6.1 </b>Bridgecrew platform results
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/aws-modernization-workshop-bridgecrew/30_module_three/3002_bridgecrew_automate_integrate_github.html title="GitHub integration" class=dd-item><a href=/aws-modernization-workshop-bridgecrew/30_module_three/3002_bridgecrew_automate_integrate_github.html><b>6.2 </b>GitHub integration
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/aws-modernization-workshop-bridgecrew/30_module_three/3003_bridgecrew_automate_pr_remediation.html title="Pull request fixes" class=dd-item><a href=/aws-modernization-workshop-bridgecrew/30_module_three/3003_bridgecrew_automate_pr_remediation.html><b>6.3 </b>Pull request fixes
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/aws-modernization-workshop-bridgecrew/30_module_three/3004_bridgecrew_automate_add_runtime.html title="AWS runtime scanning" class=dd-item><a href=/aws-modernization-workshop-bridgecrew/30_module_three/3004_bridgecrew_automate_add_runtime.html><b>6.4 </b>AWS runtime scanning
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/aws-modernization-workshop-bridgecrew/30_module_three/3005_bridgecrew_automate_fix_runtime.html title="AWS fixes in runtime" class=dd-item><a href=/aws-modernization-workshop-bridgecrew/30_module_three/3005_bridgecrew_automate_fix_runtime.html><b>6.5 </b>AWS fixes in runtime
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/aws-modernization-workshop-bridgecrew/40_conclusion.html title=Conclusion class=dd-item><a href=/aws-modernization-workshop-bridgecrew/40_conclusion.html><b>7 </b>Conclusion
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3>More</h3><ul><li><a class=padding href=https://awsworkshop.io><i class="fas fa-graduation-cap"></i>Modernization Workshops</a></li><li><a class=padding href=https://aws.amazon.com/builders-library/><i class="fas fa-tools"></i>AWS Builders Library</a></li><li><a class=padding href=https://aws.amazon.com/blogs/modernizing-with-aws/><i class="far fa-lightbulb"></i>Modernization with AWS</a></li><li><a class=padding href=https://eksworkshop.com/><i class="fas fa-chalkboard-teacher"></i>EKS Workshop</a></li><li><a class=padding href=https://ecsworkshop.com/><i class="fas fa-chalkboard-teacher"></i>ECS Workshop</a></li><li><a class=padding href=https://www.appmeshworkshop.com/><i class="fas fa-chalkboard-teacher"></i>App Mesh Workshop</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i>Clear History</a></li></ul></section><section id=footer><left><a href="https://aws.amazon.com/privacy/?nc1=f_pr">Privacy</a> | <a href="https://aws.amazon.com/terms/?nc1=f_pr">Site Terms</a> | © 2020, Amazon Web Services, Inc. or its
affiliates. All rights reserved.</left></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span><span class=links><a href=/aws-modernization-workshop-bridgecrew/>Cloud DevSecOps with Bridgecrew</a> > CloudFormation Overview</span></div></div></div><div id=head-tags></div><div id=chapter><div id=body-inner><h2 id=how-do-cloudformation-and-infrastructure-as-code-work>How do CloudFormation and infrastructure as code work?</h2><p>Infrastructure as code (IaC) frameworks such as AWS CloudFormation, Terraform, and Pulumi make cloud provisioning simple and scalable by leveraging automation and code. Defining your cloud infrastructure in code simplifies repetitive DevOps tasks and gives you a single source of truth for your app and environment configuration.</p><p>AWS CloudFormation enables you to define your AWS infrastructure with templates, which you can check into version control or store in S3 buckets. CloudFormation templates are JSON or YAML files. For instance, the following template defines an S3 bucket:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{

  <span style=color:#f92672>&#34;AWSTemplateFormatVersion&#34;</span> : <span style=color:#e6db74>&#34;2010-09-09&#34;</span>,
  <span style=color:#f92672>&#34;Description&#34;</span> : <span style=color:#e6db74>&#34;AWS CloudFormation Sample Template: Sample template showing how to create a publicly accessible S3 bucket.&#34;</span>,
  <span style=color:#f92672>&#34;Resources&#34;</span> : {
    <span style=color:#f92672>&#34;S3Bucket&#34;</span> : {
      <span style=color:#f92672>&#34;Type&#34;</span> : <span style=color:#e6db74>&#34;AWS::S3::Bucket&#34;</span>,
      <span style=color:#f92672>&#34;Properties&#34;</span> : {
        <span style=color:#f92672>&#34;AccessControl&#34;</span> : <span style=color:#e6db74>&#34;PublicRead&#34;</span>,
        <span style=color:#f92672>&#34;WebsiteConfiguration&#34;</span> : {
          <span style=color:#f92672>&#34;IndexDocument&#34;</span> : <span style=color:#e6db74>&#34;index.html&#34;</span>,
          <span style=color:#f92672>&#34;ErrorDocument&#34;</span> : <span style=color:#e6db74>&#34;error.html&#34;</span>
         }
      },
      <span style=color:#f92672>&#34;DeletionPolicy&#34;</span> : <span style=color:#e6db74>&#34;Retain&#34;</span>
    }
  },
  <span style=color:#f92672>&#34;Outputs&#34;</span> : {
    <span style=color:#f92672>&#34;WebsiteURL&#34;</span> : {
      <span style=color:#f92672>&#34;Value&#34;</span> : { <span style=color:#f92672>&#34;Fn::GetAtt&#34;</span> : [ <span style=color:#e6db74>&#34;S3Bucket&#34;</span>, <span style=color:#e6db74>&#34;WebsiteURL&#34;</span> ] },
      <span style=color:#f92672>&#34;Description&#34;</span> : <span style=color:#e6db74>&#34;URL for website hosted on S3&#34;</span>
    },
    <span style=color:#f92672>&#34;S3BucketSecureURL&#34;</span> : {
      <span style=color:#f92672>&#34;Value&#34;</span> : { <span style=color:#f92672>&#34;Fn::Join&#34;</span> : [ <span style=color:#e6db74>&#34;&#34;</span>, [ <span style=color:#e6db74>&#34;https://&#34;</span>, { <span style=color:#f92672>&#34;Fn::GetAtt&#34;</span> : [ <span style=color:#e6db74>&#34;S3Bucket&#34;</span>, <span style=color:#e6db74>&#34;DomainName&#34;</span> ] } ] ] },
      <span style=color:#f92672>&#34;Description&#34;</span> : <span style=color:#e6db74>&#34;Name of S3 bucket to hold website content&#34;</span>
    }
  }
}</code></pre></div><p>Using the AWS CLI, you can provision the above bucket in seconds:
<em>(This is an example, not required for the workshop)</em></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>aws cloudformation create-stack --stack-name myexamplestack --template-body file:///home/example/mytemplate.json</code></pre></div><h2 id=security-and-cloudformation-iac>Security and CloudFormation IaC</h2><p>The benefit of using CloudFormation to define your AWS infrastructure is that it allows you to audit templates before they’re deployed. That will enable you to bake security best practices into your development and deployment lifecycle and finding potential security and compliance issues before the infrastructure becomes real.</p><p>CloudFormation gives us total control to create, change, and delete resources in AWS. With CloudFormation, it’s easy to pick and deploy any of the hundreds of templates readily available from the AWS sample templates. Because these templates are built solely with functionality in mind, it’s also easy to forget important security configuration and end up having an insecure service running in production.</p><p>That’s why scanning your CloudFormation templates for vulnerable infrastructure before deployment is so important. With Bridgecrew, you can automate the scanning of your IaC codebase and cloud resources to both find and fix misconfigurations.</p><p><strong>In this workshop, we’re doing exactly that. So let’s get started!</strong></p><footer class=footline></footer></div></div></div><div id=navigation><a class="nav nav-prev" href=/aws-modernization-workshop-bridgecrew/5_getting_started.html title=DevSecWhat?><i class="fa fa-chevron-left"></i></a><a class="nav nav-next" href=/aws-modernization-workshop-bridgecrew/6_prerequisites.html title=Prerequisites style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/aws-modernization-workshop-bridgecrew/js/clipboard.min.js?1605552913></script><script src=/aws-modernization-workshop-bridgecrew/js/perfect-scrollbar.min.js?1605552913></script><script src=/aws-modernization-workshop-bridgecrew/js/perfect-scrollbar.jquery.min.js?1605552913></script><script src=/aws-modernization-workshop-bridgecrew/js/jquery.sticky.js?1605552913></script><script src=/aws-modernization-workshop-bridgecrew/js/featherlight.min.js?1605552913></script><script src=/aws-modernization-workshop-bridgecrew/js/highlight.pack.js?1605552913></script><script>hljs.initHighlightingOnLoad();</script><script src=/aws-modernization-workshop-bridgecrew/js/modernizr.custom-3.6.0.js?1605552913></script><script src=/aws-modernization-workshop-bridgecrew/js/learn.js?1605552913></script><script src=/aws-modernization-workshop-bridgecrew/js/hugo-learn.js?1605552913></script><link href=/aws-modernization-workshop-bridgecrew/mermaid/mermaid.css?1605552913 rel=stylesheet><script src=/aws-modernization-workshop-bridgecrew/mermaid/mermaid.js?1605552913></script><script>mermaid.initialize({startOnLoad:true});</script></body></html>